<?xml version="1.0" encoding="UTF-8"?>
<operation id="e1f4caf5-7951-4b9a-9487-b50eab91f78c">
  <descriptionCdata><![CDATA[e1f4caf5-7951-4b9a-9487-b50eab91f78c.description=<pre>checks a system for network errors\n\nInputs\:\n\nhost\:  the system to check\nusername\: the user to log into this system as\npassword\: the password to log in with\n\nResponses\:\n\nsuccess\: the data was obtained\nfailure\: the data could not be obtained\n\nResult\:\n\nAny error data - populated by the scriptlet\n\n</pre>
]]></descriptionCdata>
  <annotation>e1f4caf5-7951-4b9a-9487-b50eab91f78c.description</annotation>
  <name>Check Network Interface for Errors</name>
  <categories/>
  <inputs>
    <userInputBinding id="7b32a1ef-a6dd-43d9-ba90-592ade9ac778">
      <annotation></annotation>
      <assignFromContext>true</assignFromContext>
      <assignToContext>true</assignToContext>
      <inputType>STRING</inputType>
      <isList>false</isList>
      <required>true</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>host</inputSymbol>
      <listDelimiter>,</listDelimiter>
      <record>false</record>
      <prompt></prompt>
      <isMultiSelect>false</isMultiSelect>
      <sourceDelimiter>|</sourceDelimiter>
    </userInputBinding>
    <userInputBinding id="8f91f8cc-2933-4d4c-bb1a-120b4e6e5423">
      <annotation></annotation>
      <assignFromContext>true</assignFromContext>
      <assignToContext>true</assignToContext>
      <inputType>STRING</inputType>
      <isList>false</isList>
      <required>true</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>username</inputSymbol>
      <listDelimiter>,</listDelimiter>
      <record>false</record>
      <prompt></prompt>
      <isMultiSelect>false</isMultiSelect>
      <sourceDelimiter>|</sourceDelimiter>
    </userInputBinding>
    <userInputBinding id="ef3756d0-e20a-47bf-8803-09b77b693f7e">
      <annotation></annotation>
      <assignFromContext>true</assignFromContext>
      <assignToContext>true</assignToContext>
      <inputType>ENCRYPTED</inputType>
      <isList>false</isList>
      <required>true</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>password</inputSymbol>
      <listDelimiter>,</listDelimiter>
      <record>false</record>
      <prompt></prompt>
      <isMultiSelect>false</isMultiSelect>
      <sourceDelimiter>|</sourceDelimiter>
    </userInputBinding>
    <userInputBinding id="2ba8e7a5-e867-4a5c-97fa-48cb41949f89">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Environment</inputSymbol>
      <listDelimiter></listDelimiter>
      <record>false</record>
      <prompt></prompt>
      <isMultiSelect>false</isMultiSelect>
      <sourceDelimiter>|</sourceDelimiter>
    </userInputBinding>
    <staticBinding id="e4737a8c-9f70-4c88-8e8e-873b94ddf100">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <fromContextKey></fromContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>true</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Command</inputSymbol>
      <listDelimiter></listDelimiter>
      <value>netstat -i</value>
      <record>false</record>
    </staticBinding>
    <staticBinding id="9b7713f4-7513-4d3e-88df-fcdba4c2d9d2">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <fromContextKey></fromContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>User</inputSymbol>
      <listDelimiter></listDelimiter>
      <value>${username}</value>
      <record>false</record>
    </staticBinding>
    <userInputBinding id="b33c6345-262d-4a54-b624-e601d2950734">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Argument</inputSymbol>
      <listDelimiter></listDelimiter>
      <record>false</record>
      <prompt></prompt>
      <isMultiSelect>false</isMultiSelect>
      <sourceDelimiter>|</sourceDelimiter>
    </userInputBinding>
    <staticBinding id="f32eea16-b3a1-443f-8793-b0fc65b4ddca">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <fromContextKey></fromContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Host</inputSymbol>
      <listDelimiter></listDelimiter>
      <value>${host}</value>
      <record>false</record>
    </staticBinding>
    <userInputBinding id="1148eaa3-11fe-4062-af71-4bd35fff865a">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Private_Key_File</inputSymbol>
      <listDelimiter></listDelimiter>
      <record>false</record>
      <prompt></prompt>
      <isMultiSelect>false</isMultiSelect>
      <sourceDelimiter>|</sourceDelimiter>
    </userInputBinding>
    <staticBinding id="74f7c3f4-2aea-4a21-8a77-da91076de34c">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <fromContextKey></fromContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>ENCRYPTED</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Password</inputSymbol>
      <listDelimiter></listDelimiter>
      <value>{OBFUSCATED}SqstnSxglAP4D4gm72ILRw==</value>
      <record>false</record>
    </staticBinding>
    <staticBinding id="3d36d520-7993-478e-9c0e-5c6de8bcdd32">
      <annotation></annotation>
      <toContextKey></toContextKey>
      <fromContextKey></fromContextKey>
      <assignFromContext>false</assignFromContext>
      <assignToContext>false</assignToContext>
      <inputType>STRING</inputType>
      <recordKey></recordKey>
      <isList>false</isList>
      <required>false</required>
      <isPersisted>true</isPersisted>
      <inputSymbol>Pty</inputSymbol>
      <listDelimiter></listDelimiter>
      <value>false</value>
      <record>false</record>
    </staticBinding>
  </inputs>
  <scriptlet id="7adfe27c-a7a2-4f8c-848d-9470dea8f1da">
    <annotation></annotation>
    <name>Operation Check Network Interface for Errors (db0231bb-d24d-4a11-b786-2bd5052968bf)</name>
    <script>// set defaults
scriptletResult = &quot;&quot;;

// make sure the operation worked
code = parseInt(scriptletRawResult[&apos;Code&apos;]);

if (code == 0) {

   // get the data
   data = scriptletRawResult[&apos;Output String&apos;];
   lines = data.split(/\n/);

   // look at each line
   for (i = 2; i &lt; 1000; i++) {
      if (lines[i] == null) break;
      cols = lines[i].split(/\s+/);
      if (cols[10] == null) break;
      warn = &quot;&quot;;

      // go get the data
      input = parseInt(cols[3]);
      inputErrs = parseInt(cols[4]);
      inputDrops = parseInt(cols[5]);
      inputOverruns = parseInt(cols[6]);
      output = parseInt(cols[7]);
      outputErrs = parseInt(cols[8]);
      outputDrops = parseInt(cols[9]);
      outputOverruns = parseInt(cols[10]);

      // now check for some problems 
      inputErrorPct = (inputErrs/input) * 100;
      inputDropPct = (inputDrops/input) * 100;
      inputOverrunPct = (inputOverruns/input) * 100;
      outputErrorPct = (outputErrs/output) * 100;
      outputDropPct = (outputErrs/output) * 100;
      outputOverrunPct = (outputErrs/output) * 100;
      if (inputErrorPct &gt; .5) warn += &quot;High input error rate on &quot; + cols[0] + &quot; (&quot; + inputErrorPct.toString() + &quot;%)\n&quot;;
      if (outputErrorPct &gt; .5) warn += &quot;High output error rate on &quot; + cols[0] + &quot; (&quot; + outputErrorPct.toString() + &quot;%)\n&quot;;

      // if no warning put out a good string
      if (warn == &quot;&quot;) {
      warn = &quot;No errors detected on interface &quot; + cols[0] + &quot;. Input error rate is &quot; + inputErrorPct.toString() + &quot;% and output error rate is &quot; + outputErrorPct.toString() + &quot;%\n&quot;;
      }
   scriptletResult += warn;
   }
}
else {
   // code != 0
   scriptletResult = &quot;Unable to obtain network interface data\n&quot;;
}


</script>
    <type>RHINO</type>
  </scriptlet>
  <possibleResponses>
    <opResponse id="61aa3958-39c7-4afe-a23e-56ea5c16cb37">
      <annotation></annotation>
      <name>success</name>
      <isDefault>false</isDefault>
      <onFailure>false</onFailure>
      <type>RESOLVED</type>
      <matchRules>
        <expression id="509e7fa1-0800-42bb-b576-d98d81735933">
          <annotation></annotation>
          <name></name>
          <fieldName>Code</fieldName>
          <sourceType>RAWRESULT</sourceType>
          <compare id="aa017735-0a41-4f7f-856a-1a510bc39c24">
            <annotation></annotation>
            <name>Config Item</name>
            <text>0</text>
            <matchType>=</matchType>
          </compare>
          <filters/>
        </expression>
      </matchRules>
    </opResponse>
    <opResponse id="777ec88d-9757-442b-9afe-ff441a0a1abd">
      <annotation></annotation>
      <name>failure</name>
      <isDefault>true</isDefault>
      <onFailure>true</onFailure>
      <type>ERROR</type>
      <matchRules/>
    </opResponse>
  </possibleResponses>
  <availableResultExpressions/>
  <resultExpression id="4c9424c3-1843-4b97-9717-be69c0d467fb">
    <annotation></annotation>
    <name>Code</name>
    <fieldName>Code</fieldName>
    <sourceType>RAWRESULT</sourceType>
    <filters/>
  </resultExpression>
  <iconSpec id="cc288be7-d7f1-4d67-838a-29004ad54370">
    <baseIcon>client_network.png</baseIcon>
    <basePath>Networking/</basePath>
    <readOnly>false</readOnly>
    <layers>
      <iconSpec id="a4fe72cc-3120-4417-adda-ca47755a42f4">
        <baseIcon>help.png</baseIcon>
        <basePath>overlays/</basePath>
        <readOnly>false</readOnly>
        <layers/>
      </iconSpec>
    </layers>
  </iconSpec>
  <opRef>
    <refId>46c0f7ea-a981-4ddc-bcaf-d4faed7af0b6</refId>
  </opRef>
  <fieldValues/>
  <groupAliasRef>
    <refId>5233030c-af46-432b-a682-b326ca6bf2ae</refId>
    <refName>RAS_Operator_Path</refName>
  </groupAliasRef>
  <overrideGroupAlias>${overrideJRAS}</overrideGroupAlias>
</operation>